(()=>{function e(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),o=0;o<n.length;o+=1){var r=n[o].trim();if(r.substring(0,e.length+1)==="".concat(e,"=")){t=decodeURIComponent(r.substring(e.length+1));break}}return t}document.addEventListener("DOMContentLoaded",(function(){document.getElementById("add-category-form").addEventListener("submit",(function(t){t.preventDefault();var n={categoryName:document.getElementById("category-name").value};fetch("/api/category/",{body:JSON.stringify(n),headers:{"Content-Type":"application/json","X-CSRFToken":e("csrftoken")},method:"POST"}).then((function(e){return e.json()})).then((function(e){e.success?(alert("Catégorie ajoutée avec succès."),window.location.reload()):alert(e.message||"Une erreur est survenue.")})).catch((function(e){console.error("Error:",e)}))}))}))})();